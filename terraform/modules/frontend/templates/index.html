<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotel Recommendations</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="booking-header">
        <div class="container">
            <div class="header-content">
                <img src="logos/booking-logo-large.png" alt="Booking Logo" class="logo">
                <div class="header-text">
                    <h1>Hotel Recommendations</h1>
                    <p>Get personalised hotel recommendations powered by AI</p>
                </div>
            </div>
            <form id="recommendationForm">
                <div class="form-field">
                    <label for="city">City:</label>
                    <input type="text" id="city" name="city" required placeholder="e.g., London, Paris, Tokyo">
                </div>
                
                <div class="form-field">
                    <label for="preferences">Preferences:</label>
                    <input type="text" id="preferences" name="preferences" placeholder="e.g., luxury, budget">
                </div>
                
                <button type="submit">Search</button>
            </form>
            
            <div class="disclaimer">
                <button type="button" class="disclaimer-trigger">Demo Information</button>
                <div class="disclaimer-content">
                    <strong>Demo Project Notice:</strong><br>
                    This is a demonstration project created to simulate how Booking.com functions. All hotels and data are fictional for testing purposes only.<br><br>
                    <strong>Test Cities:</strong> London, Paris, New York, Tokyo, Barcelona, Amsterdam, Rome, Berlin, Prague, Vienna, Wellington<br><br>
                    <strong>Preference Tags:</strong> luxury, budget, business, family, romantic, spa, pool, gym, wifi, parking<br><br>
                    <strong>How it works:</strong> The AI recommendation system analyses your preferences and matches them with hotel features to provide personalised recommendations with scoring based on relevance.
                </div>
            </div>
        </div>
    </header>
    <main>
        <div id="results" class="results" style="display: none;">
            <h3>Results</h3>
            <div id="variant"></div>
            <div id="recommendations"></div>
        </div>
        
        <div class="offers-section">
            <h2>Offers</h2>
            <p class="section-subtitle">Promotions, deals and special offers for you</p>
            <div class="offers-grid">
                <div class="offer-card">
                    <div class="offer-badge">25% OFF</div>
                    <h3>Weekend Getaway</h3>
                    <p>Book 2 nights, get 25% off your stay at luxury hotels worldwide</p>
                    <div class="offer-price">From £89/night</div>
                    <div class="offer-validity">Valid until 31 Dec 2024</div>
                </div>
                <div class="offer-card">
                    <div class="offer-badge">FREE WIFI</div>
                    <h3>Business Travel</h3>
                    <p>Complimentary WiFi and breakfast for business bookings</p>
                    <div class="offer-price">From £125/night</div>
                    <div class="offer-validity">Valid for stays until March 2025</div>
                </div>
                <div class="offer-card">
                    <div class="offer-badge">EARLY BIRD</div>
                    <h3>Summer 2025</h3>
                    <p>Book early and save up to 30% on summer holidays</p>
                    <div class="offer-price">From £199/night</div>
                    <div class="offer-validity">Book by 15 Jan 2025</div>
                </div>
                <div class="offer-card">
                    <div class="offer-badge">LAST MINUTE</div>
                    <h3>City Breaks</h3>
                    <p>Spontaneous city escapes with up to 40% off selected hotels</p>
                    <div class="offer-price">From £67/night</div>
                    <div class="offer-validity">Book within 48 hours</div>
                </div>
                <div class="offer-card">
                    <div class="offer-badge">FAMILY DEAL</div>
                    <h3>Family Holidays</h3>
                    <p>Kids stay free with family-friendly amenities included</p>
                    <div class="offer-price">From £156/night</div>
                    <div class="offer-validity">Valid for school holidays</div>
                </div>
                <div class="offer-card">
                    <div class="offer-badge">LUXURY</div>
                    <h3>5-Star Experience</h3>
                    <p>Exclusive access to premium suites with spa treatments</p>
                    <div class="offer-price">From £299/night</div>
                    <div class="offer-validity">Limited time offer</div>
                </div>
            </div>
        </div>
        
        <div class="trending-section">
            <h2>Trending Destinations</h2>
            <p class="section-subtitle">Most popular choices for travellers worldwide</p>
            <div class="trending-grid">
                <div class="trending-card">
                    <h3>London</h3>
                    <p>Historic charm meets modern luxury</p>
                    <div class="trending-price">From £145/night</div>
                    <div class="trending-stats">2,847 properties</div>
                </div>
                <div class="trending-card">
                    <h3>Paris</h3>
                    <p>City of lights and romance</p>
                    <div class="trending-price">From £168/night</div>
                    <div class="trending-stats">1,923 properties</div>
                </div>
                <div class="trending-card">
                    <h3>Tokyo</h3>
                    <p>Where tradition meets innovation</p>
                    <div class="trending-price">From £134/night</div>
                    <div class="trending-stats">1,456 properties</div>
                </div>
                <div class="trending-card">
                    <h3>New York</h3>
                    <p>The city that never sleeps</p>
                    <div class="trending-price">From £189/night</div>
                    <div class="trending-stats">3,124 properties</div>
                </div>
                <div class="trending-card">
                    <h3>Barcelona</h3>
                    <p>Mediterranean culture and architecture</p>
                    <div class="trending-price">From £112/night</div>
                    <div class="trending-stats">1,678 properties</div>
                </div>
                <div class="trending-card">
                    <h3>Amsterdam</h3>
                    <p>Canals, culture and vibrant nightlife</p>
                    <div class="trending-price">From £156/night</div>
                    <div class="trending-stats">987 properties</div>
                </div>
            </div>
        </div>
        
        <div class="recommended-section">
            <h2>Hotels Recommended for You</h2>
            <p class="section-subtitle">Personalised picks based on your preferences</p>
            <div class="recommended-grid">
                <div class="recommended-card">
                    <h3>The Langham London</h3>
                    <p>Luxury hotel in the heart of London's West End</p>
                    <div class="rating-section">
                        <div class="rating-score">9.6</div>
                        <div class="rating-details">
                            <div class="rating-text">Exceptional</div>
                            <div class="rating-reviews">1,247 reviews</div>
                        </div>
                    </div>
                    <div class="recommended-price">From £285/night</div>
                </div>
                <div class="recommended-card">
                    <h3>Hotel Plaza Athénée</h3>
                    <p>Iconic Parisian elegance on Avenue Montaigne</p>
                    <div class="rating-section">
                        <div class="rating-score">9.4</div>
                        <div class="rating-details">
                            <div class="rating-text">Superb</div>
                            <div class="rating-reviews">892 reviews</div>
                        </div>
                    </div>
                    <div class="recommended-price">From £456/night</div>
                </div>
                <div class="recommended-card">
                    <h3>Park Hyatt Tokyo</h3>
                    <p>Modern luxury with stunning city views</p>
                    <div class="rating-section">
                        <div class="rating-score">9.8</div>
                        <div class="rating-details">
                            <div class="rating-text">Exceptional</div>
                            <div class="rating-reviews">634 reviews</div>
                        </div>
                    </div>
                    <div class="recommended-price">From £378/night</div>
                </div>
                <div class="recommended-card">
                    <h3>The Plaza New York</h3>
                    <p>Timeless luxury at Fifth Avenue and Central Park</p>
                    <div class="rating-section">
                        <div class="rating-score">9.2</div>
                        <div class="rating-details">
                            <div class="rating-text">Superb</div>
                            <div class="rating-reviews">1,589 reviews</div>
                        </div>
                    </div>
                    <div class="recommended-price">From £425/night</div>
                </div>
                <div class="recommended-card">
                    <h3>Hotel Casa Fuster</h3>
                    <p>Modernist masterpiece in Barcelona's Gràcia</p>
                    <div class="rating-section">
                        <div class="rating-score">9.1</div>
                        <div class="rating-details">
                            <div class="rating-text">Superb</div>
                            <div class="rating-reviews">456 reviews</div>
                        </div>
                    </div>
                    <div class="recommended-price">From £234/night</div>
                </div>
                <div class="recommended-card">
                    <h3>Waldorf Astoria Amsterdam</h3>
                    <p>Grand luxury on the prestigious Herengracht canal</p>
                    <div class="rating-section">
                        <div class="rating-score">9.5</div>
                        <div class="rating-details">
                            <div class="rating-text">Exceptional</div>
                            <div class="rating-reviews">723 reviews</div>
                        </div>
                    </div>
                    <div class="recommended-price">From £312/night</div>
                </div>
            </div>
        </div>
    </main>

    <script>
        const API_URL = 'https://df5ib6jx72.execute-api.us-east-1.amazonaws.com/dev';
        
        document.getElementById('recommendationForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const city = document.getElementById('city').value;
            const preferences = document.getElementById('preferences').value;
            const resultsDiv = document.getElementById('results');
            const variantDiv = document.getElementById('variant');
            const recommendationsDiv = document.getElementById('recommendations');
            
            // Show loading state
            resultsDiv.style.display = 'block';
            variantDiv.innerHTML = '<div class="loading">Loading...</div>';
            recommendationsDiv.innerHTML = '';
            
            try {
                // Build query parameters
                const params = new URLSearchParams({ city_id: city });
                if (preferences) {
                    params.append('user_tags', preferences);
                }
                
                const response = await fetch(API_URL + '/recommendations?' + params);
                const data = await response.json();
                
                if (response.ok) {
                    // Show variant information with city name
                    variantDiv.innerHTML = '<div class="variant">Hotels in ' + (data.city || city) + ' - Algorithm: Recommendation v1</div>';
                    
                    // Show recommendations
                    if (data.hotels && data.hotels.length > 0) {
                        let html = '<h4>Recommended Hotels:</h4><ul>';
                        data.hotels.forEach(hotel => {
                            html += '<li><strong>' + hotel.hotel_name + '</strong> - Rating: ' + hotel.rating + '/5, Score: ' + hotel.recommendation_score.toFixed(2) + '</li>';
                        });
                        html += '</ul>';
                        recommendationsDiv.innerHTML = html;
                    } else {
                        recommendationsDiv.innerHTML = '<p>No hotels found for ' + (data.city || city) + '.</p>';
                    }
                } else {
                    throw new Error(data.error || 'Failed to get recommendations');
                }
            } catch (error) {
                variantDiv.innerHTML = '<div class="error">Error: ' + error.message + '</div>';
                recommendationsDiv.innerHTML = '';
            }
        });
    </script>
</body>
</html>